<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Flashing Firmware &#8212; Home</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=75810a84" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="../_static/css/styles.css?v=e02e6c63" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Oscilloscope" href="../tutorials/oscilloscope.html" />
    <link rel="prev" title="Python Library" href="../python-library/index.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=red data-md-color-accent=red>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#hardware/flashing" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Home"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Pocket Science Labs Documentation</span>
          <span class="md-header-nav__topic"> Flashing Firmware </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder=""Search""
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="../_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = "../"versions.json"",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Home</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Home" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Home">Pocket Science Labs Documentation</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Introduction to PSLab</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../introduction.html" class="md-nav__link">Introduction</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../gettingstarted.html" class="md-nav__link">Getting Started</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../android/Readme.html" class="md-nav__link">PSLab Android App</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../desktop/Readme.html" class="md-nav__link">PSLab Desktop Application</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../python-library/index.html" class="md-nav__link">Python Library</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Hardware</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Flashing Firmware </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Flashing Firmware</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#hardware-flashing--page-root" class="md-nav__link">Flashing Firmware</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#pslab-v6" class="md-nav__link">PSLab v6</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#regular-firmware" class="md-nav__link">Regular Firmware</a>
        </li>
        <li class="md-nav__item"><a href="#firmware-with-wifi-support" class="md-nav__link">Firmware with WiFi Support</a>
        </li>
        <li class="md-nav__item"><a href="#flashing-the-firmware" class="md-nav__link">Flashing the Firmware</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#prerequisites" class="md-nav__link">Prerequisites</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#pslab-v5" class="md-nav__link">PSLab v5</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/hardware/flashing.md.txt">Show Source</a> </li>

  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Science Experiment Tutorials</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/oscilloscope.html" class="md-nav__link">Oscilloscope</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/multimeter.html" class="md-nav__link">Multimeter</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/logicanalyzer.html" class="md-nav__link">Logic Analyzer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/sensors.html" class="md-nav__link">Sensors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/wavegenerator.html" class="md-nav__link">Wave Generator</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/powersource.html" class="md-nav__link">Power Source</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/luxmeter.html" class="md-nav__link">Lux Meter</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/accelerometer.html" class="md-nav__link">Accelerometer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/barometer.html" class="md-nav__link">Barometer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/compass.html" class="md-nav__link">Compass</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/gyroscope.html" class="md-nav__link">Gyroscope</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/thermometer.html" class="md-nav__link">Thermometer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/roboticarm.html" class="md-nav__link">Robotic Arm</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/gassensor.html" class="md-nav__link">Gas Sensor</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../tutorials/dustsensor.html" class="md-nav__link">Dust Sensor</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../advanced/Readme.html" class="md-nav__link">Communications</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Contribution</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../collaborate/Readme.html" class="md-nav__link">Collaborate with PSLab!</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#hardware-flashing--page-root" class="md-nav__link">Flashing Firmware</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#pslab-v6" class="md-nav__link">PSLab v6</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#regular-firmware" class="md-nav__link">Regular Firmware</a>
        </li>
        <li class="md-nav__item"><a href="#firmware-with-wifi-support" class="md-nav__link">Firmware with WiFi Support</a>
        </li>
        <li class="md-nav__item"><a href="#flashing-the-firmware" class="md-nav__link">Flashing the Firmware</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#prerequisites" class="md-nav__link">Prerequisites</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#pslab-v5" class="md-nav__link">PSLab v5</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="../_sources/hardware/flashing.md.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="flashing-firmware">
<h1 id="hardware-flashing--page-root">Flashing Firmware<a class="headerlink" href="#hardware-flashing--page-root" title="Link to this heading">¶</a></h1>
<p>The firmware for the PSLab can be downloaded from <a class="reference external" href="https://github.com/fossasia/pslab-firmware/releases">https://github.com/fossasia/pslab-firmware/releases</a></p>
<p>Each version of the PSLab requires a custom firmware for the respective board. The version of the board is contained in the filename.</p>
<p>Please refer to the chapter which matches your use-case.</p>
<section id="pslab-v6">
<h2 id="pslab-v6">PSLab v6<a class="headerlink" href="#pslab-v6" title="Link to this heading">¶</a></h2>
<p>For the PSLab v6 two flavors of the firmware are available:</p>
<ul class="simple">
<li><p>the regular firmware</p></li>
<li><p>with WiFi support</p></li>
</ul>
<p>Both firmwares support different use-cases, but are flashed the same way.</p>
<section id="regular-firmware">
<h3 id="regular-firmware">Regular Firmware<a class="headerlink" href="#regular-firmware" title="Link to this heading">¶</a></h3>
<p>This version of the firmware supports all features of the board, except WiFi access.</p>
</section>
<section id="firmware-with-wifi-support">
<h3 id="firmware-with-wifi-support">Firmware with WiFi Support<a class="headerlink" href="#firmware-with-wifi-support" title="Link to this heading">¶</a></h3>
<p>WiFi support requires an additional ESP01 chip. To utilize that chip some signal lines need to be repurposed. This is the reason why sensor support is missing in this version of the firmware.</p>
<p>For more details regarding the firmware for the ESP01 see <a class="reference external" href="https://github.com/fossasia/pslab-esp01-firmware/">https://github.com/fossasia/pslab-esp01-firmware/</a></p>
</section>
<section id="flashing-the-firmware">
<h3 id="flashing-the-firmware">Flashing the Firmware<a class="headerlink" href="#flashing-the-firmware" title="Link to this heading">¶</a></h3>
<section id="prerequisites">
<h4 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h4>
<p>The following requirements need to be met to flash the firmware to the PSLab v6:</p>
<ul class="simple">
<li><p>Firmware (the .hex file from the .zip file (<a class="reference external" href="https://github.com/fossasia/pslab-firmware/releases">https://github.com/fossasia/pslab-firmware/releases</a>)</p></li>
<li><p>PSLab v6 board</p></li>
<li><p>USB cable</p></li>
<li><p>Python</p></li>
<li><p><a class="reference external" href="https://github.com/fossasia/pslab-python">mcbootflash</a>, install with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">mcbootflash</span></code> (already available if the <a class="reference external" href="https://github.com/fossasia/pslab-python">PSLab Python Library</a> was installed previously)</p></li>
<li><p>Windows only: The CP210x Windows Drivers from <a class="reference external" href="https://www.silabs.com/software-and-tools/usb-to-uart-bridge-vcp-drivers">https://www.silabs.com/software-and-tools/usb-to-uart-bridge-vcp-drivers</a></p></li>
</ul>
<p>To install the firmware:</p>
<ol class="arabic simple">
<li><p>Connect the PSLab v6 board to the computer</p></li>
<li><p>Enter boot mode:</p>
<ol class="arabic simple">
<li><p>press and hold the ‘BOOT’ button</p></li>
<li><p>press and release the ‘RESET’ button</p></li>
<li><p>release the ‘BOOT’ button when the RGB-LED changes to purple</p></li>
</ol>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mcbootflash</span> <span class="pre">--port</span> <span class="pre">&lt;portname&gt;</span> <span class="pre">-b</span> <span class="pre">460800</span> <span class="pre">pslab-firmware.hex</span></code></p></li>
<li><p>Reset or power cycle the board</p></li>
</ol>
<p>The port name is usually similar to <code class="docutils literal notranslate"><span class="pre">COM3</span></code> on Windows systems. You should be able to find it in the Windows Device Manager. The device is called ‘Silicon Labs CP210x USB to UART Bridge’.</p>
<p>On Linux systems the port name is similar to <code class="docutils literal notranslate"><span class="pre">/dev/serial/by-id/usb-Silicon_Labs_CP2102N_USB_to_UART_Bridge_Controller_5ecc207eeba8eb11828e98374232452f-if00-port0</span></code>. The UUID part of the name is different for every individual board.</p>
</section>
</section>
</section>
<section id="pslab-v5">
<h2 id="pslab-v5">PSLab v5<a class="headerlink" href="#pslab-v5" title="Link to this heading">¶</a></h2>
<p>The easiest way to flash the PSLab v5 board requires:</p>
<ul class="simple">
<li><p>Firmware (the .hex file from the .zip file (<a class="reference external" href="https://github.com/fossasia/pslab-firmware/releases">https://github.com/fossasia/pslab-firmware/releases</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flash.mdbscript</span></code> from <a class="reference external" href="https://github.com/fossasia/pslab-firmware/blob/main/flash.mdbscript">https://github.com/fossasia/pslab-firmware/blob/main/flash.mdbscript</a></p></li>
<li><p>PSLab v5 board</p></li>
<li><p>USB cable</p></li>
<li><p>PICkit3 programmer</p></li>
<li><p>Microchip MPLAB X IDE (<a class="reference external" href="https://www.microchip.com/en-us/tools-resources/develop/mplab-x-ide">https://www.microchip.com/en-us/tools-resources/develop/mplab-x-ide</a>)</p></li>
</ul>
<p>To install the firmware:</p>
<ol class="arabic simple">
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">flash.mdbscript</span></code> to point to the correct path to the firmware file</p></li>
<li><p>Disconnect the device from any power source</p></li>
<li><p>Connect the programmer to the device’s ICSP header</p></li>
<li><p>Power on the device via USB</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mdb.sh</span> <span class="pre">flash.mdbscript</span></code> or <code class="docutils literal notranslate"><span class="pre">mdb.bat</span> <span class="pre">flash.mdbscript</span></code> (depending on your operating system)</p></li>
<li><p>Disconnect the programmer and power cycle the board</p></li>
</ol>
<p>On Linux systems <code class="docutils literal notranslate"><span class="pre">mdb.sh</span></code> can be found in <code class="docutils literal notranslate"><span class="pre">/opt/microchip/mplabx/v6.25/mplab_platform/bin</span></code> (the version number in the path may vary).</p>
<p>On Windows systems <code class="docutils literal notranslate"><span class="pre">mdb.bat</span></code> can be found in <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files\Microchip\MPLABX\v6.25\mplab_platform\bin</span></code> (the version number in the path may vary).</p>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="../python-library/index.html" title="Python Library"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> Python Library </span>
              </div>
            </a>
          
          
            <a href="../tutorials/oscilloscope.html" title="Oscilloscope"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> Oscilloscope </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2019-2020, FOSSASIA.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 9.1.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>